import"./hoisted.0a883b16.js";class f extends HTMLElement{constructor({smallViewport:e=!1}={}){super(),this._current=this.querySelector('a[aria-current="true"]'),this.minH=parseInt(this.dataset.minH||"2",10),this.maxH=parseInt(this.dataset.maxH||"3",10);const r=[...this.querySelectorAll("a")],s=t=>{if(t instanceof HTMLHeadingElement){if(t.id==="starlight__overview")return!0;const i=t.tagName[1];if(i){const n=parseInt(i,10);if(n>=this.minH&&n<=this.maxH)return!0}}return!1},c=t=>{if(!t)return null;const i=t;for(;t;){if(s(t))return t;for(t=t.previousElementSibling;t?.lastElementChild;)t=t.lastElementChild;const n=c(t);if(n)return n}return c(i.parentElement)},a=t=>{for(const{isIntersecting:i,target:n}of t){if(!i)continue;const m=c(n);if(!m)continue;const h=r.find(w=>w.hash==="#"+m.id);if(h){this.current=h;break}}},p=document.querySelectorAll("main [id], main [id] ~ *, main .content > *"),u=(e?104:64)+32,E=u+24;let o;function l(){o&&o.disconnect();const t=document.documentElement.clientHeight,i=`-${u}px 0% ${E-t}px`;o=new IntersectionObserver(a,{rootMargin:i}),p.forEach(n=>o.observe(n))}l();const v=window.requestIdleCallback||(t=>setTimeout(t,1));let d;window.addEventListener("resize",()=>{o&&o.disconnect(),clearTimeout(d),d=setTimeout(()=>v(l),200)})}set current(e){e!==this._current&&(this._current&&this._current.removeAttribute("aria-current"),e.setAttribute("aria-current","true"),this._current=e)}}customElements.define("starlight-toc",f);class b extends f{set current(e){super.current=e;const r=this.querySelector(".display-current");r&&(r.textContent=e.textContent)}constructor(){super({smallViewport:!0});const e=this.querySelector("details");if(!e)return;const r=()=>{e.open=!1};e.querySelectorAll("a").forEach(s=>{s.addEventListener("click",r)}),window.addEventListener("click",s=>{e.contains(s.target)||r()}),window.addEventListener("keydown",s=>{if(s.key==="Escape"&&e.open){const c=e.contains(document.activeElement);if(r(),c){const a=e.querySelector("summary");a&&a.focus()}}})}}customElements.define("mobile-starlight-toc",b);
